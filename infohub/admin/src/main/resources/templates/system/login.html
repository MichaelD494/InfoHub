<!doctype html>
<html lang="en" dir="ltr" xmlns:th="http://www.thymeleaf.org">

<head>

    <!-- META DATA -->
    <meta charset="UTF-8">
    <meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=0'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="Sash – Bootstrap 5  Admin & Dashboard Template">
    <meta name="author" content="Spruko Technologies Private Limited">
    <meta name="keywords"
          content="admin,admin dashboard,admin panel,admin template,bootstrap,clean,dashboard,flat,jquery,modern,responsive,premium admin templates,responsive admin,ui,ui kit.">

    <!-- FAVICON -->
    <link rel="shortcut icon" type="image/x-icon" th:href="@{/static/images/brand/favicon.ico}">

    <!-- TITLE -->
    <title>InfoHub</title>

    <!-- BOOTSTRAP CSS -->
    <link id="style" th:href="@{/static/plugins/bootstrap/css/bootstrap.min.css}" rel="stylesheet">

    <!-- STYLE CSS -->
    <link th:href="@{/static/css/style.css}" rel="stylesheet">

    <!-- Plugins CSS -->
    <link th:href="@{/static/css/plugins.css}" rel="stylesheet">

    <!--- FONT-ICONS CSS -->
    <link th:href="@{/static/css/icons.css}" rel="stylesheet">

    <!-- INTERNAL Switcher css -->
    <link th:href="@{/static/switcher/css/switcher.css}" rel="stylesheet">
    <link th:href="@{/static/switcher/demo.css}" rel="stylesheet">
    <style>
        .toast-container {
            margin-top: 50px;
        }
    </style>
</head>

<body class="app sidebar-mini ltr login-img">

<!-- BACKGROUND-IMAGE -->
<div class="">

    <!-- GLOABAL LOADER -->
    <div id="global-loader">
        <img th:src="@{/static/images/loader.svg}" class="loader-img" alt="Loader">
    </div>
    <!-- /GLOABAL LOADER -->

    <!-- PAGE -->
    <div class="page">
        <div class="">
            <!-- Theme-Layout -->

            <!-- CONTAINER OPEN -->
            <div class="col col-login mx-auto mt-7">
                <div class="text-center">
                    <a th:href="@{home.html}"><img th:src="@{/static/images/brand/logo-white.png}"
                                                   class="header-brand-img"
                                                   alt=""></a>
                </div>
            </div>

            <div class="container-login100">
                <div class="wrap-login100 p-6">
                            <span class="login100-form-title pb-5">
                                登录
                            </span>
                    <div class="panel panel-primary">
                        <div class="tab-menu-heading">
                            <div class="tabs-menu1">
                                <!-- Tabs -->
                                <ul class="nav panel-tabs">
                                    <li class="mx-0"><a th:href="@{#tab5}" class="active"
                                                        data-bs-toggle="tab">账号</a>
                                    </li>
                                    <!--<li class="mx-0"><a th:href="@{#tab6}" data-bs-toggle="tab">Mobile</a></li>-->
                                </ul>
                            </div>
                        </div>
                        <div class="panel-body tabs-menu-body p-0 pt-5 needs-validation">
                            <div class="tab-content">
                                <form id="loinForm" action="/login" method="post">
                                    <input type="hidden" name="_csrf" th:value="${_csrf.token}"/>
                                    <div class="tab-pane active" id="tab5">
                                        <div class="wrap-input100 validate-input input-group"
                                             data-bs-validate="Valid username is required">
                                            <a href="javascript:void(0)" class="input-group-text bg-white text-muted">
                                                <i class="mdi mdi-account text-muted" aria-hidden="true"></i>
                                            </a>
                                            <input class="input100 border-start-0 form-control ms-0" name="username"
                                                   type="text"
                                                   placeholder="用户名"
                                                   th:value="admin">
                                        </div>
                                        <div class="wrap-input100 validate-input input-group" id="Password-toggle">
                                            <a href="javascript:void(0)" class="input-group-text bg-white text-muted">
                                                <i class="zmdi zmdi-eye text-muted" aria-hidden="true"></i>
                                            </a>
                                            <input class="input100 border-start-0 form-control ms-0" name="password"
                                                   type="password"
                                                   th:value="123456"
                                                   placeholder="密码">
                                        </div>
                                        <div class="wrap-input100 validate-input input-group" id="code-toggle">
                                            <a href="javascript:void(0)" class="input-group-text bg-white text-muted">
                                                <i class="fa fa-shield text-muted" aria-hidden="true"></i>
                                            </a>
                                            <input class="input100 border-start-0 form-control ms-0" name="code"
                                                   placeholder="验证码" required/>
                                            <img id="captcha" onclick="getCaptcha()"/>
                                        </div>
                                        <div class="text-end pt-4">
                                            <p class="mb-0"><a th:href="@{forgot-password.html}"
                                                               class="text-primary ms-1">忘记密码 ？</a></p>
                                        </div>
                                        <div class="container-login100-form-btn">
                                            <button type="submit" id="login" class="login100-form-btn btn-primary">
                                                登录
                                            </button>
                                        </div>
                                    </div>
                                </form>

                                <div class="text-center pt-3">
                                    <p class="text-dark mb-0">Not a member?<a th:href="@{register.html}"
                                                                              class="text-primary ms-1">Sign
                                        UP</a></p>
                                </div>
                                <label class="login-social-icon"><span>Login with Social</span></label>
                                <div class="d-flex justify-content-center">
                                    <a href="javascript:void(0)">
                                        <div class="social-login me-4 text-center">
                                            <i class="fa fa-google"></i>
                                        </div>
                                    </a>
                                    <a href="javascript:void(0)">
                                        <div class="social-login me-4 text-center">
                                            <i class="fa fa-facebook"></i>
                                        </div>
                                    </a>
                                    <a href="javascript:void(0)">
                                        <div class="social-login text-center">
                                            <i class="fa fa-twitter"></i>
                                        </div>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- CONTAINER CLOSED -->
    </div>
</div>
<!-- End PAGE -->
<!-- BACKGROUND-IMAGE CLOSED -->
<!-- JQUERY JS -->
<script th:src="@{/static/js/jquery.min.js}"></script>
<script th:src="@{/static/js/dolores/strutil.js}"></script>
<script th:src="@{/static/js/dolores/notify.js}"></script>

<script>
    const loginUrl = '/login';
    const homeUrl = '/system/home';
    const captchaUrl = '/captcha';

    let loginObj = {};
    $(function () {
        getCaptcha();
        // document.addEventListener("keydown", function (event) {
        //     if (event.key === 'Enter') {
        //         login();
        //     }
        // });

    })

    function getCaptcha() {
        get(captchaUrl, null, function (resp) {
            loginObj.uuid = resp.uuid;
            $("[name='code']").val('');
            $("#captcha").attr("src", resp.img);
        })
    }

    /*function login() {
        const username = $("[name='username']").val();
        if (!isNotEmpty(username)) {
            warning("提示", "请输入用户名");
            return;
        }
        loginObj.username = username;
        const password = $("[name='password']").val();
        if (!isNotEmpty(password)) {
            warning("提示", "请输入密码");
            return;
        }
        loginObj.password = password;
        const code = $("[name='code']").val();
        if (!isNotEmpty(code)) {
            warning("提示", "请输入验证码");
            return;
        }
        loginObj.code = code;
        post(loginUrl, loginObj, function (resp) {
            success('提示', resp.msg);
            if (resp.code === 200) {
                const token = resp.token;
                sessionStorage.setItem('token', token);
                console.log('222')
                window.location.href = "/system/home";
            }
        });
    }*/
</script>

<script th:src="@{/static/js/ajax/ajax.js}"></script>

<!-- BOOTSTRAP JS -->
<script th:src="@{/static/plugins/bootstrap/js/popper.min.js}"></script>
<script th:src="@{/static/plugins/bootstrap/js/bootstrap.min.js}"></script>

<!-- SHOW PASSWORD JS -->
<script th:src="@{/static/js/show-password.min.js}"></script>

<!-- GENERATE OTP JS -->
<script th:src="@{/static/js/generate-otp.js}"></script>

<!-- Perfect SCROLLBAR JS-->
<script th:src="@{/static/plugins/p-scroll/perfect-scrollbar.js}"></script>

<!-- Color Theme js -->
<script th:src="@{/static/js/themeColors.js}"></script>

<!-- CUSTOM JS -->
<script th:src="@{/static/js/custom.js}"></script>

<!-- Custom-switcher -->
<script th:src="@{/static/js/custom-swicher.js}"></script>

<!-- Switcher js -->
<script th:src="@{/static/switcher/js/switcher.js}"></script>

<!-- INTERNAL Notifications js -->
<script th:src="@{/static/plugins/notify/js/rainbow.js}"></script>
<script th:src="@{/static/plugins/notify/js/sample.js}"></script>
<script th:src="@{/static/plugins/notify/js/jquery.growl.js}"></script>
<script th:src="@{/static/plugins/notify/js/notifIt.js}"></script>
</body>

</html>