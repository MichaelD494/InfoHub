<!doctype html>
<html lang="en" dir="ltr" xmlns:th="http://www.thymeleaf.org">
<head>
    <!-- META DATA -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="InfoHub">
    <meta name="author" content="Spruko Technologies Private Limited">
    <meta name="keywords"
          content="admin,admin dashboard,admin panel,admin template,bootstrap,clean,dashboard,flat,jquery,modern,responsive,premium admin templates,responsive admin,ui,ui kit.">
    <!-- FAVICON -->
    <link rel="shortcut icon" type="image/x-icon" th:href="@{/static/images/brand/logo.ico}"><!-- TITLE -->
    <title>InfoHub</title><!-- BOOTSTRAP CSS -->
    <link id="style" rel="stylesheet" th:href="@{/static/plugins/bootstrap/css/bootstrap.min.css}"><!-- STYLE CSS -->
    <link rel="stylesheet" th:href="@{/static/css/style.css}"><!-- Plugins CSS -->
    <link rel="stylesheet" th:href="@{/static/css/plugins.css}"><!-- FONT-ICONS CSS -->
    <link rel="stylesheet" th:href="@{/static/css/icons.css}"><!-- INTERNAL Switcher css -->
    <link rel="stylesheet" th:href="@{/static/switcher/css/switcher.css}">
    <link rel="stylesheet" th:href="@{/static/switcher/demo.css}">
    <link rel="stylesheet" th:href="@{/static/css/scrollbar.css}">
    <link rel="stylesheet" th:href="@{/static/css/dolores/query.css}">
</head>
<body class="app sidebar-mini ltr light-mode">
<!-- GLOBAL-LOADER -->
<div id="global-loader">
    <img class="loader-img" alt="Loader" th:src="@{/static/images/loader.svg}">
</div><!-- /GLOBAL-LOADER --><!-- PAGE -->
<div class="page">
    <div class="page-main">
        <!-- app-Header -->
        <div class="app-header header sticky">
            <div class="container-fluid main-container">
                <div class="d-flex">
                    <a aria-label="Hide Sidebar" class="app-sidebar__toggle" data-bs-toggle="sidebar"
                       href="javascript:void(0)"></a> <!-- sidebar-toggle--> <a class="logo-horizontal "
                                                                                href="home.html"> <img
                        class="header-brand-img desktop-logo" alt="logo"
                        th:src="@{/static/images/brand/logo-white.png}"> <img class="header-brand-img light-logo1"
                                                                              alt="logo"
                                                                              th:src="@{/static/images/brand/logo-dark.png}">
                </a> <!-- LOGO -->
                    <div class="d-flex order-lg-2 ms-auto header-right-icons">
                        <!-- SEARCH -->
                        <button class="navbar-toggler navresponsive-toggler d-lg-none ms-auto" type="button"
                                data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent-4"
                                aria-controls="navbarSupportedContent-4" aria-expanded="false"
                                aria-label="Toggle navigation"><span
                                class="navbar-toggler-icon fe fe-more-vertical"></span></button>
                        <div class="navbar navbar-collapse responsive-navbar p-0">
                            <div class="collapse navbar-collapse" id="navbarSupportedContent-4">
                                <div class="d-flex order-lg-2">
                                    <div class="dropdown d-lg-none d-flex">
                                        <a href="javascript:void(0)" class="nav-link icon" data-bs-toggle="dropdown"> <i
                                                class="fe fe-search"></i> </a>
                                        <div class="dropdown-menu header-search dropdown-menu-start">
                                            <div class="input-group w-100 p-2">
                                                <input type="text" class="form-control" placeholder="Search....">
                                                <div class="input-group-text btn btn-primary">
                                                    <i class="fa fa-search" aria-hidden="true"></i>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="d-flex">
                                        <a class="nav-link icon theme-layout nav-link-bg layout-setting"> <span
                                                class="dark-layout"><i class="fe fe-moon"></i></span> <span
                                                class="light-layout"><i class="fe fe-sun"></i></span> </a>
                                    </div><!-- Theme-Layout -->
                                    <div class="dropdown d-flex">
                                        <a class="nav-link icon full-screen-link nav-link-bg"> <i
                                                class="fe fe-minimize fullscreen-button"></i> </a>
                                    </div><!-- FULL-SCREEN -->
                                    <div class="dropdown d-flex profile-1">
                                        <a href="javascript:void(0)" data-bs-toggle="dropdown"
                                           class="nav-link leading-none d-flex">
                                            <img th:src="@{/static/images/users/21.jpg}" alt="profile-user"
                                                 class="avatar  profile-user brround cover-image">
                                        </a>
                                        <div class="dropdown-menu dropdown-menu-end dropdown-menu-arrow">
                                            <div class="drop-heading">
                                                <div class="text-center">
                                                    <h5 class="text-dark mb-0 fs-14 fw-semibold">Percy Kewshun</h5>
                                                    <small class="text-muted">Senior Admin</small>
                                                </div>
                                            </div>
                                            <div class="dropdown-divider m-0"></div>
                                            <a class="dropdown-item" href="profile.html">
                                                <i class="dropdown-icon fe fe-user"></i> Profile
                                            </a>
                                            <a class="dropdown-item" href="lockscreen.html">
                                                <i class="dropdown-icon fe fe-lock"></i> Lockscreen
                                            </a>
                                            <a class="dropdown-item" th:onclick="logout()">
                                                <i class="dropdown-icon fe fe-alert-circle"></i> Sign out
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>

        </div><!-- /app-Header --> <!--APP-SIDEBAR-->
        <div class="sticky">
            <div class="app-sidebar__overlay" data-bs-toggle="sidebar"></div>
            <div class="app-sidebar">
                <div class="side-header">
                    <a class="header-brand1" th:href="@{/sys/home}"> <img class="header-brand-img desktop-logo"
                                                                          alt="logo"
                                                                          th:src="@{/static/images/brand/logo.png}">
                        <img class="header-brand-img toggle-logo" alt="logo"
                             th:src="@{/static/images/brand/logo.png}"> <img class="header-brand-img light-logo"
                                                                             alt="logo"
                                                                             th:src="@{/static/images/brand/logo.png}">
                        <img class="header-brand-img light-logo1" alt="logo"
                             th:src="@{/static/images/brand/logo.png}"> </a> <!-- LOGO -->
                </div>
                <div class="main-sidemenu">
                    <div class="slide-left disabled" id="slide-left">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="#7b8191" width="24" height="24"
                             viewbox="0 0 24 24">
                            <path d="M13.293 6.293 7.586 12l5.707 5.707 1.414-1.414L10.414 12l4.293-4.293z"/>
                        </svg>
                    </div>
                    <ul class="side-menu">
                        <li class="sub-category">
                            <h3>Main</h3></li>
                        <li class="slide" th:each="parent:${sysMenuList}">
                            <a class="side-menu__item" data-bs-toggle="slide" href="javascript:void(0)"
                            >
                                <i class="side-menu__icon fe fe-slack"></i>
                                <span class="side-menu__label" th:text="${parent.title}"></span>
                                <i class="angle fe fe-chevron-right"></i>
                            </a>
                            <ul class="slide-menu" th:each="sub:${parent.children}">
                                <li class="panel sidetab-menu">
                                    <div class="panel-body tabs-menu-body p-0 border-0">
                                        <div class="tab-content">
                                            <div class="tab-pane active">
                                                <ul class="sidemenu-list mega-menu-list">
                                                    <li style="cursor: pointer"
                                                        th:attr="data-subpath=${sub.path}"
                                                        th:onclick="loadMenu(this.dataset.subpath)">
                                                        <a class="slide-item"
                                                           th:text="${sub.title}"></a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                        </li>

                    </ul>
                    <div class="slide-right" id="slide-right">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="#7b8191" width="24" height="24"
                             viewbox="0 0 24 24">
                            <path d="M10.707 17.707 16.414 12l-5.707-5.707-1.414 1.414L13.586 12l-4.293 4.293z"/>
                        </svg>
                    </div>
                </div>
            </div>
        </div><!--/APP-SIDEBAR--> <!--app-content open-->
        <div class="main-content app-content mt-0">
            <div class="side-app">
                <!-- CONTAINER -->
                <div class="main-container container-fluid" id="page-content">

                </div>
            </div>
        </div><!--app-content close-->
    </div><!-- Sidebar-right -->

    <!-- BACK-TO-TOP --> <a href="#top" id="back-to-top"><i class="fa fa-angle-up"></i></a>
    <!-- JQUERY JS -->
    <script th:src="@{/static/js/jquery.min.js}"></script><!-- BOOTSTRAP JS -->
    <script th:src="@{/static/js/ajax/ajax.js}"></script>
    <script th:src="@{/static/js/dolores/strutil.js}"></script>
    <script th:src="@{/static/js/dolores/notify.js}"></script>
    <script th:src="@{/static/js/dolores/common.js}"></script>
    <script th:src="@{/static/js/dolores/table.js}"></script>
    <script th:src="@{/static/js/dolores/modal.js}"></script>
    <script>
        const logoutUrl = "/logout";
        const loginPage = "/sys/login";
        $(function () {
            //从缓存中获取当前页面
            const currentPage = localStorage.getItem("currentPage");
            if (isNotEmpty(currentPage)) {
                //如果存在则加载当前页面
                loadMenu(currentPage);
            }
        });


        function loadMenu(url) {
            $.ajax({
                url: url,
                type: 'GET',
                async: false,
                header: {
                    'X-Api-Request': 'false'
                },
                success: function () {
                    //将当前页面放入缓存
                    localStorage.setItem("currentPage", url);
                    $("#page-content").load(url);
                }
            });
        }

        function logout() {
            get(logoutUrl, null, function (resp) {
                if (resp.code === 200) {
                    success("提示", resp.msg);
                    localStorage.setItem("currentPage", "");
                    delayJump(loginPage);
                } else {
                    error("提示", resp.msg);
                }
            });
        }
    </script>
    <script th:src="@{/static/plugins/input-mask/jquery.mask.min.js}"></script>
    <script th:src="@{/static/plugins/bootstrap/js/popper.min.js}"></script>
    <script th:src="@{/static/plugins/bootstrap/js/bootstrap.min.js}"></script><!-- SPARKLINE JS-->
    <script th:src="@{/static/js/custom.js}"></script><!-- Custom-switcher -->
    <script th:src="@{/static/js/jquery.sparkline.min.js}"></script><!-- Sticky js -->
    <script th:src="@{/static/js/sticky.js}"></script><!-- CHART-CIRCLE JS-->
    <script th:src="@{/static/js/circle-progress.min.js}"></script><!-- PIETY CHART JS-->
    <script th:src="@{/static/plugins/peitychart/jquery.peity.min.js}"></script>
    <script th:src="@{/static/plugins/peitychart/peitychart.init.js}"></script><!-- SIDEBAR JS -->
    <script th:src="@{/static/plugins/sidebar/sidebar.js}"></script><!-- Perfect SCROLLBAR JS-->
    <script th:src="@{/static/plugins/p-scroll/perfect-scrollbar.js}"></script>
    <script th:src="@{/static/plugins/chart/utils.js}"></script><!-- INTERNAL SELECT2 JS -->
    <script th:src="@{/static/plugins/datatable/js/jquery.dataTables.min.js}"></script>
    <script th:src="@{/static/plugins/datatable/js/dataTables.bootstrap5.js}"></script>
    <script th:src="@{/static/plugins/datatable/dataTables.responsive.min.js}"></script><!-- INTERNAL APEXCHART JS -->
    <script th:src="@{/static/plugins/sidemenu/sidemenu.js}"></script><!-- TypeHead js -->
    <script th:src="@{/static/js/themeColors.js}"></script><!-- CUSTOM JS -->
    <script th:src="@{/static/js/custom-swicher.js}"></script><!-- Switcher js -->
    <script th:src="@{/static/switcher/js/switcher.js}"></script>
    <!-- INTERNAL SELECT2 JS -->
    <script th:src="@{/static/plugins/select2/select2.full.min.js}"></script>
    <!-- INTERNAL Notifications js -->
    <script th:src="@{/static/plugins/notify/js/rainbow.js}"></script>
    <script th:src="@{/static/plugins/notify/js/sample.js}"></script>
    <script th:src="@{/static/plugins/notify/js/jquery.growl.js}"></script>
    <script th:src="@{/static/plugins/notify/js/notifIt.js}"></script>
    <!-- DATA TABLE JS -->
    <script th:src="@{/static/plugins/datatable/js/jquery.dataTables.min.js}"></script>
    <script th:src="@{/static/plugins/datatable/js/dataTables.bootstrap5.js}"></script>
    <script th:src="@{/static/plugins/datatable/js/dataTables.buttons.min.js}"></script>
    <script th:src="@{/static/plugins/datatable/js/buttons.bootstrap5.min.js}"></script>
    <script th:src="@{/static/plugins/datatable/js/jszip.min.js}"></script>
    <script th:src="@{/static/plugins/datatable/pdfmake/pdfmake.min.js}"></script>
    <script th:src="@{/static/plugins/datatable/pdfmake/vfs_fonts.js}"></script>
    <script th:src="@{/static/plugins/datatable/js/buttons.html5.min.js}"></script>
    <script th:src="@{/static/plugins/datatable/js/buttons.print.min.js}"></script>
    <script th:src="@{/static/plugins/datatable/js/buttons.colVis.min.js}"></script>
    <script th:src="@{/static/plugins/datatable/dataTables.responsive.min.js}"></script>
    <script th:src="@{/static/plugins/datatable/responsive.bootstrap5.min.js}"></script>
    <script th:src="@{/static/js/table-data.js}"></script>
</div>
</body>
</html>